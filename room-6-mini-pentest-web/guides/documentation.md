# Guide de Documentation

## Objectif

La documentation est la dernière étape d'un audit de sécurité. Son objectif est de documenter toutes les vulnérabilités trouvées de manière professionnelle et actionnable.

## Pourquoi la documentation est importante

Une bonne documentation permet de :
- Communiquer clairement les problèmes trouvés
- Aider les développeurs à comprendre et corriger les vulnérabilités
- Prioriser les corrections
- Créer un historique des audits

Sans une bonne documentation, même les vulnérabilités critiques peuvent être ignorées ou mal comprises.

## Structure d'un finding

### 1. Titre

Le titre doit être clair et descriptif. Il doit indiquer le type de vulnérabilité et où elle se trouve.

**Exemples de bons titres :**
- "Injection SQL dans le formulaire de login"
- "XSS stocké dans les commentaires"
- "Bypass d'authentification via injection SQL"

**Exemples de mauvais titres :**
- "Bug"
- "Problème de sécurité"
- "Vulnérabilité"

---

### 2. Description

La description doit expliquer :
- Ce qu'est la vulnérabilité
- Où elle se trouve dans l'application
- Pourquoi elle existe

**Exemple de description**

```
La vulnérabilité se trouve dans le formulaire de login à l'adresse /login.
Le champ username est directement concaténé dans une requête SQL sans validation ni requête préparée.
Cela permet à un attaquant d'injecter du code SQL malveillant.
```

---

### 3. Impact

L'impact doit expliquer :
- Ce qu'un attaquant peut faire avec cette vulnérabilité
- Les conséquences pour l'application et les utilisateurs
- Le niveau de criticité (Critique, Élevé, Moyen, Faible)

**Exemple d'impact**

```
Impact : Critique

Un attaquant peut :
- Bypasser l'authentification et se connecter sans mot de passe
- Accéder à toutes les données de la base de données
- Modifier ou supprimer des données

Cela compromet complètement la sécurité de l'application.
```

---

### 4. Preuve

La preuve doit inclure :
- Les étapes pour reproduire la vulnérabilité
- Les données d'entrée utilisées
- Les résultats obtenus
- Des captures d'écran si nécessaire

**Exemple de preuve**

```
Étapes pour reproduire :

1. Aller sur http://localhost:3008/login
2. Dans le champ username, entrer : admin' OR '1'='1'--
3. Dans le champ password, entrer : n'importe quoi
4. Cliquer sur "Se connecter"

Résultat : La connexion réussit même avec un mot de passe incorrect.

Requête HTTP :
POST /login
username=admin' OR '1'='1'--&password=test

Réponse : Redirection vers /dashboard
```

---

### 5. Recommandation

La recommandation doit expliquer :
- Comment corriger la vulnérabilité
- Les bonnes pratiques à suivre
- Des exemples de code si nécessaire

**Exemple de recommandation**

```
Recommandation :

Utiliser des requêtes préparées pour toutes les interactions avec la base de données.

Exemple de code corrigé :

// AVANT (vulnérable)
const query = `SELECT * FROM users WHERE username = '${username}' AND password = '${password}'`;
db.get(query, callback);

// APRÈS (sécurisé)
const query = `SELECT * FROM users WHERE username = ? AND password = ?`;
db.get(query, [username, password], callback);

De plus, les mots de passe doivent être hashés avec bcrypt avant d'être comparés.
```

---

## Format de documentation recommandé

```markdown
# [Titre de la vulnérabilité]

## Description

[Description détaillée de la vulnérabilité]

## Impact

**Niveau de criticité :** [Critique/Élevé/Moyen/Faible]

[Description de l'impact]

## Preuve

### Étapes pour reproduire

1. [Étape 1]
2. [Étape 2]
3. [Étape 3]

### Données d'entrée

```
[Données utilisées]
```

### Résultat

[Résultat obtenu]

## Recommandation

[Recommandations pour corriger la vulnérabilité]

### Code corrigé

```javascript
// Exemple de code sécurisé
```
```

---

## Priorisation des vulnérabilités

### Critique

- Bypass d'authentification
- Injection SQL permettant l'accès complet à la base de données
- Exécution de code à distance

**Action :** Correction immédiate requise

### Élevé

- XSS stocké
- Accès non autorisé aux données sensibles
- Injection SQL avec accès limité

**Action :** Correction urgente requise

### Moyen

- XSS réfléchi
- Problèmes de validation
- Exposition d'informations

**Action :** Correction planifiée

### Faible

- Problèmes de configuration mineurs
- Informations révélées dans les headers
- Problèmes de validation mineurs

**Action :** Correction recommandée

---

## Structure d'un rapport complet

### 1. Résumé exécutif

Un résumé court (1-2 pages) qui explique :
- Le contexte de l'audit
- Le nombre de vulnérabilités trouvées
- Les vulnérabilités les plus critiques
- Les recommandations principales

### 2. Méthodologie

Une description de :
- La méthodologie utilisée
- Les outils utilisés
- Le périmètre de l'audit
- Les limitations

### 3. Vulnérabilités identifiées

Une liste détaillée de toutes les vulnérabilités trouvées, organisée par niveau de criticité.

### 4. Recommandations générales

Des recommandations qui s'appliquent à l'ensemble de l'application :
- Utiliser des requêtes préparées partout
- Échapper toutes les sorties
- Implémenter l'authentification et l'autorisation
- Valider toutes les entrées

### 5. Conclusion

Un résumé final avec :
- Les points principaux
- Les prochaines étapes recommandées
- Les ressources pour en savoir plus

---

## Conseils pour une bonne documentation

### 1. Être clair et précis

Évitez le jargon technique inutile. Expliquez les choses de manière simple mais précise.

### 2. Fournir des exemples concrets

Les exemples de code et les captures d'écran aident beaucoup à comprendre les problèmes.

### 3. Être actionnable

Chaque recommandation doit être claire et actionnable. Les développeurs doivent savoir exactement quoi faire.

### 4. Prioriser

Organisez les vulnérabilités par niveau de criticité pour aider à prioriser les corrections.

### 5. Être professionnel

Utilisez un ton professionnel et constructif. L'objectif est d'aider, pas de critiquer.

---

## Template de rapport

Un template complet est disponible dans `/report-template/template.md`. Utilisez-le comme base pour votre rapport.

---

## Checklist de documentation

Avant de finaliser votre rapport, vérifiez que vous avez :

- [ ] Documenté toutes les vulnérabilités trouvées
- [ ] Inclus une description claire pour chaque vulnérabilité
- [ ] Inclus les étapes pour reproduire chaque vulnérabilité
- [ ] Inclus des recommandations pour chaque vulnérabilité
- [ ] Classé chaque vulnérabilité par niveau de criticité
- [ ] Créé un résumé exécutif
- [ ] Vérifié l'orthographe et la grammaire
- [ ] Vérifié que toutes les preuves sont reproductibles

---

## Erreurs courantes

**Erreur 1 : Documentation trop technique**

La documentation doit être compréhensible par des développeurs qui ne sont pas experts en sécurité.

**Erreur 2 : Manque de détails**

Sans détails suffisants, les développeurs ne pourront pas reproduire ou corriger les vulnérabilités.

**Erreur 3 : Pas de recommandations**

Chaque vulnérabilité doit avoir des recommandations claires pour la corriger.

---

## Prochaines étapes

Une fois la documentation terminée, vous pouvez :
- Partager votre rapport via une issue GitHub
- Demander des retours sur votre travail
- Continuer à apprendre avec d'autres ressources

Félicitations pour avoir complété l'audit de sécurité !
